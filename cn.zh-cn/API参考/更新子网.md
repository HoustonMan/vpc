# 更新子网<a name="ZH-CN_TOPIC_0020090593"></a>

## 功能介绍<a name="section52667802"></a>

更新子网。

## URI<a name="section4248175"></a>

PUT /v1/\{project\_id\}/vpcs/\{vpc\_id\}/subnets/\{subnet\_id\}

**表 1**  参数说明

<a name="table27806533"></a>
<table><thead align="left"><tr id="row25717600"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p2750866"><a name="p2750866"></a><a name="p2750866"></a>名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p21493617"><a name="p21493617"></a><a name="p21493617"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p63261412"><a name="p63261412"></a><a name="p63261412"></a>说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row23900756"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p56913064"><a name="p56913064"></a><a name="p56913064"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p46555465"><a name="p46555465"></a><a name="p46555465"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p12896286"><a name="p12896286"></a><a name="p12896286"></a>项目ID</p>
</td>
</tr>
<tr id="row41240337122055"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p52133024122055"><a name="p52133024122055"></a><a name="p52133024122055"></a>vpc_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p4532040312214"><a name="p4532040312214"></a><a name="p4532040312214"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p58002403122055"><a name="p58002403122055"></a><a name="p58002403122055"></a>子网对应的vpc_id</p>
</td>
</tr>
<tr id="row48957711"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p6151694"><a name="p6151694"></a><a name="p6151694"></a>subnet_id</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p28525238"><a name="p28525238"></a><a name="p28525238"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p28842926"><a name="p28842926"></a><a name="p28842926"></a>子网唯一标识</p>
</td>
</tr>
</tbody>
</table>

## 请求消息<a name="section38233575"></a>

-   请求参数

    **表 2**  请求参数

    <a name="table42592295151022"></a>
    <table><thead align="left"><tr id="row13964015151022"><th class="cellrowborder" valign="top" width="15.409999999999998%" id="mcps1.2.5.1.1"><p id="p57343407151022"><a name="p57343407151022"></a><a name="p57343407151022"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="15.98%" id="mcps1.2.5.1.2"><p id="p14304400151022"><a name="p14304400151022"></a><a name="p14304400151022"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="21.43%" id="mcps1.2.5.1.3"><p id="p17805753151022"><a name="p17805753151022"></a><a name="p17805753151022"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="47.18%" id="mcps1.2.5.1.4"><p id="p32979923151022"><a name="p32979923151022"></a><a name="p32979923151022"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row54128134151022"><td class="cellrowborder" valign="top" width="15.409999999999998%" headers="mcps1.2.5.1.1 "><p id="p22302713151022"><a name="p22302713151022"></a><a name="p22302713151022"></a>subnet</p>
    </td>
    <td class="cellrowborder" valign="top" width="15.98%" headers="mcps1.2.5.1.2 "><p id="p61689300151022"><a name="p61689300151022"></a><a name="p61689300151022"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="21.43%" headers="mcps1.2.5.1.3 "><p id="p30777408151022"><a name="p30777408151022"></a><a name="p30777408151022"></a><em id="i8561220151022"><a name="i8561220151022"></a><a name="i8561220151022"></a>字典数据结构</em></p>
    </td>
    <td class="cellrowborder" valign="top" width="47.18%" headers="mcps1.2.5.1.4 "><p id="p22370187151022"><a name="p22370187151022"></a><a name="p22370187151022"></a>子网对象</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 3**  subnet字段说明

    <a name="table45027976"></a>
    <table><thead align="left"><tr id="row34359256"><th class="cellrowborder" valign="top" width="20.862086208620862%" id="mcps1.2.5.1.1"><p id="p31636323"><a name="p31636323"></a><a name="p31636323"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="14.471447144714473%" id="mcps1.2.5.1.2"><p id="p12405375"><a name="p12405375"></a><a name="p12405375"></a>是否必选</p>
    </th>
    <th class="cellrowborder" valign="top" width="20.3020302030203%" id="mcps1.2.5.1.3"><p id="p3774167175923"><a name="p3774167175923"></a><a name="p3774167175923"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="44.364436443644365%" id="mcps1.2.5.1.4"><p id="p65311315"><a name="p65311315"></a><a name="p65311315"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row55725192"><td class="cellrowborder" valign="top" width="20.862086208620862%" headers="mcps1.2.5.1.1 "><p id="p17446726"><a name="p17446726"></a><a name="p17446726"></a>name</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.471447144714473%" headers="mcps1.2.5.1.2 "><p id="p3898676"><a name="p3898676"></a><a name="p3898676"></a>是</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.3020302030203%" headers="mcps1.2.5.1.3 "><p id="p37272111175923"><a name="p37272111175923"></a><a name="p37272111175923"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.364436443644365%" headers="mcps1.2.5.1.4 "><a name="ul4675135413562"></a><a name="ul4675135413562"></a><ul id="ul4675135413562"><li>功能说明：子网名称</li><li>取值范围：1-64个字符，支持数字、字母、中文、_(下划线)、-（中划线）、.（点）</li></ul>
    </td>
    </tr>
    <tr id="row64356400"><td class="cellrowborder" valign="top" width="20.862086208620862%" headers="mcps1.2.5.1.1 "><p id="p45485936"><a name="p45485936"></a><a name="p45485936"></a>dhcp_enable</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.471447144714473%" headers="mcps1.2.5.1.2 "><p id="p60482217"><a name="p60482217"></a><a name="p60482217"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.3020302030203%" headers="mcps1.2.5.1.3 "><p id="p66251028175923"><a name="p66251028175923"></a><a name="p66251028175923"></a>Boolean</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.364436443644365%" headers="mcps1.2.5.1.4 "><a name="ul16629112175711"></a><a name="ul16629112175711"></a><ul id="ul16629112175711"><li>功能说明：子网是否开启dhcp功能</li><li>取值范围：true（开启），false（关闭）</li><li>约束：不填时默认为true。当设置为false时，会导致新创建的ECS无法获取IP地址，cloudinit无法注入账号密码，请谨慎操作。</li></ul>
    </td>
    </tr>
    <tr id="row62687"><td class="cellrowborder" valign="top" width="20.862086208620862%" headers="mcps1.2.5.1.1 "><p id="p5077725"><a name="p5077725"></a><a name="p5077725"></a>primary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.471447144714473%" headers="mcps1.2.5.1.2 "><p id="p8642591"><a name="p8642591"></a><a name="p8642591"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.3020302030203%" headers="mcps1.2.5.1.3 "><p id="p1069020123190"><a name="p1069020123190"></a><a name="p1069020123190"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.364436443644365%" headers="mcps1.2.5.1.4 "><a name="ul192812028185718"></a><a name="ul192812028185718"></a><ul id="ul192812028185718"><li>功能说明：子网dns服务器地址1</li><li>约束：ip格式</li></ul>
    </td>
    </tr>
    <tr id="row40600350"><td class="cellrowborder" valign="top" width="20.862086208620862%" headers="mcps1.2.5.1.1 "><p id="p294043"><a name="p294043"></a><a name="p294043"></a>secondary_dns</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.471447144714473%" headers="mcps1.2.5.1.2 "><p id="p23817504"><a name="p23817504"></a><a name="p23817504"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.3020302030203%" headers="mcps1.2.5.1.3 "><p id="p8884643175923"><a name="p8884643175923"></a><a name="p8884643175923"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.364436443644365%" headers="mcps1.2.5.1.4 "><a name="ul8801931105718"></a><a name="ul8801931105718"></a><ul id="ul8801931105718"><li>功能说明：子网dns服务器地址2</li><li>约束：ip格式</li></ul>
    </td>
    </tr>
    <tr id="row4104651911530"><td class="cellrowborder" valign="top" width="20.862086208620862%" headers="mcps1.2.5.1.1 "><p id="p3643375711530"><a name="p3643375711530"></a><a name="p3643375711530"></a>dnsList</p>
    </td>
    <td class="cellrowborder" valign="top" width="14.471447144714473%" headers="mcps1.2.5.1.2 "><p id="p787474711538"><a name="p787474711538"></a><a name="p787474711538"></a>否</p>
    </td>
    <td class="cellrowborder" valign="top" width="20.3020302030203%" headers="mcps1.2.5.1.3 "><p id="p10991411530"><a name="p10991411530"></a><a name="p10991411530"></a>List</p>
    </td>
    <td class="cellrowborder" valign="top" width="44.364436443644365%" headers="mcps1.2.5.1.4 "><a name="ul101991551584"></a><a name="ul101991551584"></a><ul id="ul101991551584"><li>功能说明：子网dns服务器地址的集合；如果想使用两个以上dns服务器，请使用该字段。</li><li>约束：是子网dns服务器地址1跟子网dns服务器地址2的合集的父集。</li></ul>
    </td>
    </tr>
    </tbody>
    </table>


-   请求样例

    ```
    {
        "subnet": {
            "name": "subnetqq",
            "dhcp_enable": false,
            "primary_dns": "114.xx.xx.115",
            "secondary_dns": "114.xx.xx.116"
        }
    }
    ```


## 响应消息<a name="section8557861"></a>

-   响应参数

    **表 4**  响应参数

    <a name="table55739938151015"></a>
    <table><thead align="left"><tr id="row19341165151015"><th class="cellrowborder" valign="top" width="18.34%" id="mcps1.2.4.1.1"><p id="p23130572151015"><a name="p23130572151015"></a><a name="p23130572151015"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="25.509999999999998%" id="mcps1.2.4.1.2"><p id="p26547244151015"><a name="p26547244151015"></a><a name="p26547244151015"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="56.15%" id="mcps1.2.4.1.3"><p id="p2843132151015"><a name="p2843132151015"></a><a name="p2843132151015"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row28967149151015"><td class="cellrowborder" valign="top" width="18.34%" headers="mcps1.2.4.1.1 "><p id="p64637734151015"><a name="p64637734151015"></a><a name="p64637734151015"></a>subnet</p>
    </td>
    <td class="cellrowborder" valign="top" width="25.509999999999998%" headers="mcps1.2.4.1.2 "><p id="p27267219151015"><a name="p27267219151015"></a><a name="p27267219151015"></a><em id="i44078381151015"><a name="i44078381151015"></a><a name="i44078381151015"></a>字典数据结构</em></p>
    </td>
    <td class="cellrowborder" valign="top" width="56.15%" headers="mcps1.2.4.1.3 "><p id="p13579079151015"><a name="p13579079151015"></a><a name="p13579079151015"></a>子网对象</p>
    </td>
    </tr>
    </tbody>
    </table>

    **表 5**  subnet字段说明

    <a name="table1210700"></a>
    <table><thead align="left"><tr id="row43388973"><th class="cellrowborder" valign="top" width="24.57%" id="mcps1.2.4.1.1"><p id="p24845910"><a name="p24845910"></a><a name="p24845910"></a>名称</p>
    </th>
    <th class="cellrowborder" valign="top" width="23.68%" id="mcps1.2.4.1.2"><p id="p697309418033"><a name="p697309418033"></a><a name="p697309418033"></a>参数类型</p>
    </th>
    <th class="cellrowborder" valign="top" width="51.74999999999999%" id="mcps1.2.4.1.3"><p id="p6587942"><a name="p6587942"></a><a name="p6587942"></a>说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row63861276"><td class="cellrowborder" valign="top" width="24.57%" headers="mcps1.2.4.1.1 "><p id="p5380904"><a name="p5380904"></a><a name="p5380904"></a>id</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.68%" headers="mcps1.2.4.1.2 "><p id="p2794974018033"><a name="p2794974018033"></a><a name="p2794974018033"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="51.74999999999999%" headers="mcps1.2.4.1.3 "><p id="p4849307"><a name="p4849307"></a><a name="p4849307"></a>uuid形式的一个资源标识。</p>
    </td>
    </tr>
    <tr id="row43643771"><td class="cellrowborder" valign="top" width="24.57%" headers="mcps1.2.4.1.1 "><p id="p45484537"><a name="p45484537"></a><a name="p45484537"></a>status</p>
    </td>
    <td class="cellrowborder" valign="top" width="23.68%" headers="mcps1.2.4.1.2 "><p id="p4933643818033"><a name="p4933643818033"></a><a name="p4933643818033"></a>String</p>
    </td>
    <td class="cellrowborder" valign="top" width="51.74999999999999%" headers="mcps1.2.4.1.3 "><a name="ul756817571315"></a><a name="ul756817571315"></a><ul id="ul756817571315"><li>功能说明：子网的状态。</li><li>取值范围：ACTIVE,UNKNOWN,ERROR<a name="ul83391032184614"></a><a name="ul83391032184614"></a><ul id="ul83391032184614"><li>ACTIVE表示子网已挂载到ROUTER上</li><li>UNKNOWN表示子网还未挂载到ROUTER上</li><li>ERROR表示子网状态故障</li></ul>
    </li></ul>
    </td>
    </tr>
    </tbody>
    </table>


-   响应样例

    ```
    {
        "subnet": {
            "id": "4779ab1c-7c1a-44b1-a02e-93dfc361b32d",
            "status": "ACTIVE"
        }
    }
    ```


## 状态码<a name="section31981619"></a>

请参见[状态码](状态码.md)。

## 错误码<a name="section85821649202813"></a>

请参考[错误码](错误码.md)。

